import{b as a}from"./init-22028896.js";console.log("Script started successfully");var s=WA.sound.loadSound("../audio/japanese_school_bell.mp3"),n={volume:1,loop:!1,rate:3,detune:0,delay:0,seek:0,mute:!1},o=WA.sound.loadSound("../audio/bgm.mp3"),t={volume:.05,loop:!0,rate:1,detune:0,delay:0,seek:0,mute:!1};WA.onInit().then(()=>{p(),u(),b()}).catch(e=>console.error(e));function r(){s.play(n)}function l(){WA.state.bellIsOn=!WA.state.bellIsOn}function c(){o.play(t)}function i(){o.stop()}function p(){console.log("Scripting Room API ready"),console.log("Player tags: ",WA.player.tags),a().then(()=>{console.log("Scripting API Extra ready")}).catch(e=>console.error(e))}function u(){WA.room.onEnterLayer("Util/bgmLayer").subscribe(()=>{WA.ui.openPopup("bgmPopUp","Hintergrundmusik abspielen",[{label:"Spielen",className:"success",callback:e=>{c(),e.close()}},{label:"Stoppen",className:"primary",callback:e=>{i(),e.close()}}])})}function b(){WA.room.onEnterLayer("Util/leverLayer").subscribe(()=>{WA.ui.openPopup("klingelPopUp","Möchtest du die Glocke läuten",[{label:"Läuten",className:"success",callback:e=>{l(),l(),e.close()}},{label:"Schließen",className:"primary",callback:e=>{e.close()}}])}),WA.state.onVariableChange("bellIsOn").subscribe(e=>{e&&r()})}
